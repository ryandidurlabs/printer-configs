# Custom Macros for Printer 2
# Add any printer-specific macros here

# BED_MESH_CALIBRATE is a built-in Klipper command
# Use it directly: BED_MESH_CALIBRATE

# QUAD_GANTRY_LEVEL is a built-in Klipper command (if supported)
# Use it directly: QUAD_GANTRY_LEVEL

[gcode_macro SET_PRESSURE_ADVANCE]
gcode:
    # Set pressure advance value
    # Usage: SET_PRESSURE_ADVANCE VALUE=0.05
    SET_PRESSURE_ADVANCE EXTRUDER=extruder ADVANCE={params.VALUE}

[gcode_macro TUNE_PRESSURE_ADVANCE]
gcode:
    # Print pressure advance tower
    # Usage: TUNE_PRESSURE_ADVANCE
    G28
    G1 Z10 F6000
    # Add your pressure advance tower gcode here

[gcode_macro NOZZLE_CLEAN]
gcode:
    # Clean nozzle routine
    G28
    G1 Z10 F6000
    G1 X150 Y150 F6000
    M117 Cleaning nozzle...
    G1 Z0.2 F300
    G1 X100 Y100 E10 F1500
    G1 X200 Y200 E10 F1500
    G1 X100 Y200 E10 F1500
    G1 X200 Y100 E10 F1500
    G1 Z10 F6000
    M117 Done

[gcode_macro PREHEAT_PLA]
gcode:
    # Preheat for PLA
    M104 S200
    M140 S60
    M117 Preheating PLA...

[gcode_macro PREHEAT_ABS]
gcode:
    # Preheat for ABS
    M104 S240
    M140 S80
    M117 Preheating ABS...

[gcode_macro PREHEAT_PETG]
gcode:
    # Preheat for PETG
    M104 S230
    M140 S70
    M117 Preheating PETG...

[gcode_macro COOLDOWN]
gcode:
    # Cooldown routine
    M104 S0
    M140 S0
    M117 Cooldown complete
